{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://pixabay.com/api/\"\nconst API_KEY = \"52397534-5a81c9abe88dcfa16cadbb760\"\n\n\n\n\nexport async function getImagesByQuery(query) {\n    const params = {\n        key: API_KEY,\n        q: query,\n        image_type: \"photo\",\n        orientation: \"horizontal\",\n        safesearch: true\n    }\n    return axios.get(BASE_URL, {params}).then(response => response.data)\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\")\nconst loader = document.querySelector(\".loader\")\n\nconst lightbox = new SimpleLightbox(\".gallery a\", {\n    captionData: \"alt\",\n    captionDelay: 250\n})\n\nexport function createGallery(images){\nconst markup =  images.map(({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n<li class=\"gallery-item\">\n<a class=\"gallery-link\" href=\"${largeImageURL}\">\n<img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\">\n</a>\n<div class=\"info\">\n<p class=\"info-item\"> <b>Likes</b> <span>${likes}</span></p>\n<p class=\"info-item\"> <b>Views</b> <span>${views}</span></p>\n<p class=\"info-item\"> <b>Comments</b> <span>${comments}</span></p>\n<p class=\"info-item\"> <b>Downloads</b> <span>${downloads}</span></p>\n</div>\n</li>\n`).join(\"\")\n\ngallery.insertAdjacentHTML(\"beforeend\", markup)\nlightbox.refresh()\n\n}\n\n\n\n\nexport function clearGallery() {\n    gallery.innerHTML = \"\"\n}\n\nexport function showLoader() {\nif(loader) loader.classList.remove(\"hidden\")\n}\n\n\nexport function hideLoader() {\nif(loader) loader.classList.add(\"hidden\")\n\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\n\nconst form = document.querySelector(\".form\")\n\nform.addEventListener(\"submit\", event =>{\n    event.preventDefault()\n\n    const query = event.target.elements[\"search-text\"].value.trim()\n\n    if(!query){\n        iziToast.warning({\n            title: \"Oops\",\n            message: \"Please enter a search term!\",\n            position: \"topRight\"\n        })\n        return\n    }\n\n    showLoader()\n    clearGallery()\n\n    getImagesByQuery(query)\n    .then(data => {\n        if(data.hits.length === 0){\n            iziToast.error({\n                title: \"No results\",\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                position: \"topRight\"\n            })\n            return\n        }\n        createGallery(data.hits)\n    }).catch((error) =>{\n        iziToast.error({\n            title:\"Error\",\n            message:\"Something went wrong. Please try again later!\",\n            position: \"topRight\"\n        })\n        console.log(error);\n    }).finally(()=>{\n        hideLoader()\n    })\n}\n)"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","params","axios","response","gallery","loader","lightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","event","iziToast","data","error"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCAKT,eAAeC,EAAiBC,EAAO,CAC1C,MAAMC,EAAS,CACX,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,EACD,OAAOE,EAAM,IAAIL,EAAU,CAAC,OAAAI,CAAM,CAAC,EAAE,KAAKE,GAAYA,EAAS,IAAI,CACvE,CCdA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAC9C,YAAa,MACb,aAAc,GAClB,CAAC,EAEM,SAASC,EAAcC,EAAO,CACrC,MAAMC,EAAUD,EAAO,IAAI,CAAC,CAAC,aAAAE,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA,gCAEvEL,CAAa;AAAA,kCACXD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,2CAGjBC,CAAK;AAAA,2CACLC,CAAK;AAAA,8CACFC,CAAQ;AAAA,+CACPC,CAAS;AAAA;AAAA;AAAA,CAGvD,EAAE,KAAK,EAAE,EAEVb,EAAQ,mBAAmB,YAAaM,CAAM,EAC9CJ,EAAS,QAAS,CAElB,CAKO,SAASY,GAAe,CAC3Bd,EAAQ,UAAY,EACxB,CAEO,SAASe,GAAa,CAC1Bd,GAAQA,EAAO,UAAU,OAAO,QAAQ,CAC3C,CAGO,SAASe,GAAa,CAC1Bf,GAAQA,EAAO,UAAU,IAAI,QAAQ,CAExC,CCxCA,MAAMgB,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,GAAQ,CACpCA,EAAM,eAAgB,EAEtB,MAAMtB,EAAQsB,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,KAAM,EAE/D,GAAG,CAACtB,EAAM,CACNuB,EAAS,QAAQ,CACb,MAAO,OACP,QAAS,8BACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDJ,EAAY,EACZD,EAAc,EAEdnB,EAAiBC,CAAK,EACrB,KAAKwB,GAAQ,CACV,GAAGA,EAAK,KAAK,SAAW,EAAE,CACtBD,EAAS,MAAM,CACX,MAAO,aACP,QAAS,2EACT,SAAU,UAC1B,CAAa,EACD,MACH,CACDf,EAAcgB,EAAK,IAAI,CAC/B,CAAK,EAAE,MAAOC,GAAS,CACfF,EAAS,MAAM,CACX,MAAM,QACN,QAAQ,gDACR,SAAU,UACtB,CAAS,EACD,QAAQ,IAAIE,CAAK,CACzB,CAAK,EAAE,QAAQ,IAAI,CACXL,EAAY,CACpB,CAAK,CACL,CACA"}